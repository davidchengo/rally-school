<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Rally School ‚Äì Learn Tennis Like a Pro</title>
  <style>
    :root {
      --green: #2d6a4f;
      --green-light: #40916c;
      --green-pale: #d8f3dc;
      --yellow: #f4c430;
      --dark: #1a1a2e;
      --gray: #6b7280;
      --light: #f9fafb;
      --white: #ffffff;
      --radius: 12px;
      --shadow: 0 4px 24px rgba(0,0,0,0.08);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--light); color: var(--dark); }

    /* NAV */
    nav {
      background: rgba(13,27,42,0.97);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,0.06);
      padding: 0 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 62px;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .nav-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--white);
      font-size: 1.2rem;
      font-weight: 700;
      text-decoration: none;
    }
    .nav-logo span { color: var(--yellow); }
    .nav-links { display: flex; gap: 8px; }
    .nav-links button {
      background: none;
      border: none;
      color: #9ca3af;
      font-size: 0.9rem;
      cursor: pointer;
      padding: 6px 14px;
      border-radius: 8px;
      transition: all 0.2s;
    }
    .nav-links button:hover, .nav-links button.active {
      background: rgba(255,255,255,0.1);
      color: var(--white);
    }
    .nav-cta {
      background: var(--yellow);
      color: var(--dark) !important;
      font-weight: 600 !important;
      border-radius: 8px !important;
    }
    .nav-cta:hover { background: #e6b800 !important; color: var(--dark) !important; }

    /* HERO */
    .hero {
      background: linear-gradient(160deg, #0d1b2a 0%, #1a2744 50%, #0d2137 100%);
      color: white;
      padding: 88px 32px 72px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    /* Subtle green court line accent ‚Äî bottom only, low opacity */
    .hero::after {
      content: '';
      position: absolute;
      bottom: 0; left: 0; right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--green-light), var(--yellow), var(--green-light), transparent);
      opacity: 0.6;
    }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(244,196,48,0.12);
      border: 1px solid rgba(244,196,48,0.35);
      color: var(--yellow);
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      padding: 6px 16px;
      border-radius: 20px;
      margin-bottom: 28px;
    }
    .hero h1 {
      font-size: clamp(2.2rem, 5.5vw, 3.6rem);
      font-weight: 900;
      line-height: 1.1;
      margin-bottom: 20px;
      letter-spacing: -0.02em;
      text-shadow: 0 2px 20px rgba(0,0,0,0.4);
    }
    .hero h1 em { color: var(--yellow); font-style: normal; }
    .hero p {
      font-size: 1.15rem;
      color: #cbd5e1;
      max-width: 520px;
      margin: 0 auto 40px;
      line-height: 1.7;
      font-weight: 400;
    }
    .hero-actions { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
    .btn-primary {
      background: var(--yellow);
      color: #111;
      border: none;
      padding: 15px 32px;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 800;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      letter-spacing: 0.01em;
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(244,196,48,0.45); }
    .btn-secondary {
      background: rgba(255,255,255,0.08);
      color: white;
      border: 1.5px solid rgba(255,255,255,0.25);
      padding: 15px 32px;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.15s;
      backdrop-filter: blur(4px);
    }
    .btn-secondary:hover { background: rgba(255,255,255,0.15); border-color: rgba(255,255,255,0.4); }
    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 0;
      margin-top: 60px;
      flex-wrap: wrap;
      border-top: 1px solid rgba(255,255,255,0.08);
      padding-top: 40px;
    }
    .stat {
      text-align: center;
      padding: 0 36px;
      border-right: 1px solid rgba(255,255,255,0.1);
    }
    .stat:last-child { border-right: none; }
    .stat-num { font-size: 2rem; font-weight: 900; color: var(--yellow); letter-spacing: -0.02em; }
    .stat-label { font-size: 0.78rem; color: #94a3b8; margin-top: 4px; text-transform: uppercase; letter-spacing: 0.06em; font-weight: 500; }

    /* MAIN LAYOUT */
    .main { max-width: 1200px; margin: 0 auto; padding: 40px 24px; }
    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
    }
    .section-title { font-size: 1.4rem; font-weight: 700; }
    .section-subtitle { font-size: 0.9rem; color: var(--gray); margin-top: 4px; }
    .see-all { font-size: 0.85rem; color: var(--green-light); background: none; border: none; cursor: pointer; font-weight: 600; }

    /* SEARCH + FILTER BAR */
    .search-bar {
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px 24px;
      margin-bottom: 32px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
    }
    .search-input-wrap {
      flex: 1;
      min-width: 200px;
      position: relative;
    }
    .search-input-wrap svg {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }
    .search-input {
      width: 100%;
      border: 1.5px solid #e5e7eb;
      border-radius: 8px;
      padding: 10px 12px 10px 38px;
      font-size: 0.95rem;
      outline: none;
      transition: border 0.2s;
    }
    .search-input:focus { border-color: var(--green-light); }
    .filter-group { display: flex; gap: 8px; flex-wrap: wrap; }
    .filter-chip {
      background: var(--light);
      border: 1.5px solid #e5e7eb;
      border-radius: 20px;
      padding: 7px 14px;
      font-size: 0.82rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
      color: var(--dark);
    }
    .filter-chip:hover { border-color: var(--green-light); color: var(--green); }
    .filter-chip.active { background: var(--green); border-color: var(--green); color: white; }

    /* LEARNING PATHS */
    .paths-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 16px;
      margin-bottom: 48px;
    }
    .path-card {
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
    }
    .path-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 4px;
    }
    .path-card.green::before { background: var(--green); }
    .path-card.blue::before { background: #3b82f6; }
    .path-card.orange::before { background: #f97316; }
    .path-card.purple::before { background: #8b5cf6; }
    .path-card:hover { transform: translateY(-3px); box-shadow: 0 8px 32px rgba(0,0,0,0.12); }
    .path-card.selected { border-color: var(--green); }
    .path-icon { font-size: 2rem; margin-bottom: 12px; }
    .path-card h3 { font-size: 1rem; font-weight: 700; margin-bottom: 6px; }
    .path-card p { font-size: 0.83rem; color: var(--gray); line-height: 1.5; margin-bottom: 14px; }
    .path-meta { display: flex; gap: 12px; }
    .path-tag {
      font-size: 0.75rem;
      background: var(--green-pale);
      color: var(--green);
      padding: 3px 10px;
      border-radius: 12px;
      font-weight: 600;
    }
    .path-count { font-size: 0.75rem; color: var(--gray); align-self: center; }

    /* CLIPS GRID */
    .clips-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 20px;
      margin-bottom: 48px;
    }
    .clip-card {
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
    }
    .clip-card:hover { transform: translateY(-3px); box-shadow: 0 8px 32px rgba(0,0,0,0.14); }
    .clip-thumb {
      position: relative;
      background: var(--dark);
      aspect-ratio: 16/9;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .clip-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.85;
    }
    .play-btn {
      position: absolute;
      width: 52px;
      height: 52px;
      background: rgba(255,255,255,0.9);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.15s, background 0.15s;
    }
    .clip-card:hover .play-btn { transform: scale(1.1); background: white; }
    .play-btn svg { margin-left: 3px; }
    .clip-level {
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 0.7rem;
      font-weight: 700;
      padding: 3px 10px;
      border-radius: 12px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }
    .level-beginner { background: #dcfce7; color: #166534; }
    .level-intermediate { background: #fef9c3; color: #713f12; }
    .level-advanced { background: #fee2e2; color: #7f1d1d; }
    .clip-duration {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(0,0,0,0.75);
      color: white;
      font-size: 0.75rem;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 6px;
    }
    .bookmark-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0,0,0,0.5);
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: white;
      transition: background 0.15s;
    }
    .bookmark-btn:hover { background: rgba(0,0,0,0.75); }
    .bookmark-btn.saved { background: var(--yellow); color: var(--dark); }
    .clip-body { padding: 16px; }
    .clip-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 10px; }
    .clip-tag {
      font-size: 0.72rem;
      background: var(--green-pale);
      color: var(--green);
      padding: 2px 8px;
      border-radius: 10px;
      font-weight: 600;
    }
    .clip-tag.blue { background: #dbeafe; color: #1e40af; }
    .clip-tag.orange { background: #ffedd5; color: #9a3412; }
    .clip-body h3 { font-size: 0.95rem; font-weight: 700; margin-bottom: 6px; line-height: 1.35; }
    .clip-body p { font-size: 0.82rem; color: var(--gray); line-height: 1.5; margin-bottom: 12px; }
    .clip-footer { display: flex; align-items: center; justify-content: space-between; }
    .clip-pro { display: flex; align-items: center; gap: 7px; }
    .pro-avatar {
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--green), var(--green-light));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 700;
      color: white;
    }
    .pro-name { font-size: 0.8rem; font-weight: 600; color: var(--dark); }
    .clip-views { font-size: 0.75rem; color: var(--gray); }

    /* VIDEO MODAL */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .modal-overlay.open { display: flex; }
    .modal {
      background: var(--white);
      border-radius: 16px;
      width: 100%;
      max-width: 860px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
    }
    .modal-close {
      position: absolute;
      top: 14px;
      right: 14px;
      background: rgba(0,0,0,0.08);
      border: none;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      cursor: pointer;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transition: background 0.15s;
    }
    .modal-close:hover { background: rgba(0,0,0,0.15); }
    .modal-video {
      width: 100%;
      aspect-ratio: 16/9;
      background: black;
      border-radius: 16px 16px 0 0;
      overflow: hidden;
    }
    .modal-video iframe { width: 100%; height: 100%; border: none; }
    .modal-content { padding: 24px; }
    .modal-tags { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 14px; }
    .modal-content h2 { font-size: 1.25rem; font-weight: 800; margin-bottom: 10px; }
    .annotation-box {
      background: linear-gradient(135deg, #f0fdf4, #dcfce7);
      border-left: 4px solid var(--green);
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 20px;
    }
    .annotation-label {
      font-size: 0.72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--green);
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .annotation-box p { font-size: 0.88rem; color: #1f2937; line-height: 1.65; }
    .key-points { margin-bottom: 20px; }
    .key-points h4 { font-size: 0.9rem; font-weight: 700; margin-bottom: 12px; color: var(--dark); }
    .point-item {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      margin-bottom: 10px;
    }
    .point-num {
      width: 22px;
      height: 22px;
      background: var(--green);
      color: white;
      border-radius: 50%;
      font-size: 0.72rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 1px;
    }
    .point-item p { font-size: 0.85rem; color: #374151; line-height: 1.5; }
    .apply-box {
      background: #fefce8;
      border: 1px solid #fde047;
      border-radius: 8px;
      padding: 14px 16px;
    }
    .apply-label {
      font-size: 0.72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #a16207;
      margin-bottom: 6px;
    }
    .apply-box p { font-size: 0.85rem; color: #713f12; line-height: 1.5; }

    /* TABS */
    .tabs { display: flex; gap: 4px; margin-bottom: 28px; background: #f3f4f6; padding: 4px; border-radius: 10px; width: fit-content; }
    .tab {
      padding: 8px 20px;
      border-radius: 8px;
      border: none;
      background: none;
      font-size: 0.88rem;
      font-weight: 600;
      cursor: pointer;
      color: var(--gray);
      transition: all 0.15s;
    }
    .tab.active { background: white; color: var(--dark); box-shadow: 0 1px 4px rgba(0,0,0,0.1); }

    /* EMPTY STATE */
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: var(--gray);
    }
    .empty-state .empty-icon { font-size: 3rem; margin-bottom: 12px; }
    .empty-state h3 { font-size: 1rem; font-weight: 700; color: var(--dark); margin-bottom: 6px; }
    .empty-state p { font-size: 0.88rem; }

    /* WAITLIST SECTION */
    .waitlist-section {
      background: linear-gradient(160deg, #0d1b2a 0%, #1a2744 50%, #0d2137 100%);
      color: white;
      padding: 80px 24px;
      text-align: center;
      margin-top: 48px;
      position: relative;
      overflow: hidden;
      border-top: 1px solid rgba(255,255,255,0.06);
    }
    .waitlist-section::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, var(--green-light), var(--yellow), var(--green-light), transparent);
      opacity: 0.6;
    }
    .waitlist-inner { max-width: 560px; margin: 0 auto; position: relative; }
    .waitlist-badge {
      display: inline-block;
      background: rgba(244,196,48,0.15);
      border: 1px solid rgba(244,196,48,0.3);
      color: var(--yellow);
      font-size: 0.78rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 5px 14px;
      border-radius: 20px;
      margin-bottom: 20px;
    }
    .waitlist-section h2 {
      font-size: clamp(1.6rem, 4vw, 2.4rem);
      font-weight: 800;
      line-height: 1.2;
      margin-bottom: 14px;
    }
    .waitlist-section h2 em { color: var(--yellow); font-style: normal; }
    .waitlist-section p {
      font-size: 1rem;
      color: #9ca3af;
      line-height: 1.6;
      margin-bottom: 32px;
    }
    .waitlist-form {
      display: flex;
      gap: 10px;
      max-width: 460px;
      margin: 0 auto 20px;
      flex-wrap: wrap;
    }
    .waitlist-input {
      flex: 1;
      min-width: 220px;
      padding: 14px 18px;
      border-radius: 10px;
      border: 1.5px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.08);
      color: white;
      font-size: 0.95rem;
      outline: none;
      transition: border 0.2s, background 0.2s;
    }
    .waitlist-input::placeholder { color: #6b7280; }
    .waitlist-input:focus {
      border-color: var(--yellow);
      background: rgba(255,255,255,0.12);
    }
    .waitlist-btn {
      background: var(--yellow);
      color: var(--dark);
      border: none;
      padding: 14px 24px;
      border-radius: 10px;
      font-size: 0.95rem;
      font-weight: 700;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      white-space: nowrap;
    }
    .waitlist-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(244,196,48,0.35); }
    .waitlist-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
    .waitlist-privacy {
      font-size: 0.75rem;
      color: #6b7280;
      margin-bottom: 40px;
    }
    .waitlist-social-proof {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }
    .proof-avatars { display: flex; }
    .proof-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid var(--dark);
      margin-left: -8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      font-weight: 700;
      color: white;
    }
    .proof-avatar:first-child { margin-left: 0; }
    .proof-text { font-size: 0.82rem; color: #9ca3af; }
    .proof-text strong { color: white; }

    /* SUCCESS STATE */
    .waitlist-success {
      display: none;
      background: rgba(45,106,79,0.2);
      border: 1px solid rgba(64,145,108,0.4);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
    }
    .waitlist-success.show { display: block; }
    .success-icon { font-size: 2.5rem; margin-bottom: 10px; }
    .waitlist-success h3 { font-size: 1.1rem; font-weight: 700; margin-bottom: 6px; color: #86efac; }
    .waitlist-success p { font-size: 0.88rem; color: #9ca3af; margin-bottom: 0; }

    /* FOOTER */
    footer {
      background: var(--dark);
      color: #9ca3af;
      text-align: center;
      padding: 28px;
      font-size: 0.82rem;
    }
    footer strong { color: var(--yellow); }

    /* RESPONSIVE */
    @media (max-width: 600px) {
      nav { padding: 0 16px; }
      .hero { padding: 48px 16px 40px; }
      .hero-stats { gap: 24px; }
      .main { padding: 24px 16px; }
      .clips-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <a class="nav-logo" href="#" onclick="showView('home')">üéæ Rally<span>School</span></a>
  <div class="nav-links">
    <button onclick="showView('home')" id="nav-home" class="active">Library</button>
    <button onclick="showView('paths')" id="nav-paths">Learning Paths</button>
    <button onclick="showView('saved')" id="nav-saved">‚≠ê Saved</button>
    <button class="nav-cta" onclick="alert('Sign up coming soon! üéæ')">Get Started Free</button>
  </div>
</nav>

<!-- HOME VIEW -->
<div id="view-home">
  <!-- HERO -->
  <div class="hero">
    <div class="hero-badge">üéæ Learn Tennis Differently</div>
    <h1>Study the game like<br><em>pros study film</em></h1>
    <p>Curated pro match breakdowns with tactical annotations ‚Äî organized so you actually learn, not just watch.</p>
    <div class="hero-actions">
      <button class="btn-primary" onclick="document.querySelector('.main').scrollIntoView({behavior:'smooth'})">Browse Breakdowns</button>
      <button class="btn-secondary" onclick="showView('paths')">View Learning Paths ‚Üí</button>
    </div>
    <div class="hero-stats">
      <div class="stat"><div class="stat-num">80+</div><div class="stat-label">Curated Clips</div></div>
      <div class="stat"><div class="stat-num">12</div><div class="stat-label">Tactical Themes</div></div>
      <div class="stat"><div class="stat-num">4</div><div class="stat-label">Learning Paths</div></div>
      <div class="stat"><div class="stat-num">Free</div><div class="stat-label">To Start</div></div>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main">

    <!-- SEARCH + FILTER -->
    <div class="search-bar">
      <div class="search-input-wrap">
        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
        <input class="search-input" id="searchInput" type="text" placeholder="Search by shot, player, or situation..." oninput="filterClips()" />
      </div>
      <div class="filter-group" id="filterChips">
        <button class="filter-chip active" onclick="setFilter('All', this)">All</button>
        <button class="filter-chip" onclick="setFilter('Forehand', this)">Forehand</button>
        <button class="filter-chip" onclick="setFilter('Backhand', this)">Backhand</button>
        <button class="filter-chip" onclick="setFilter('Serve', this)">Serve</button>
        <button class="filter-chip" onclick="setFilter('Return', this)">Return</button>
        <button class="filter-chip" onclick="setFilter('Net Play', this)">Net Play</button>
        <button class="filter-chip" onclick="setFilter('Tactics', this)">Tactics</button>
      </div>
    </div>

    <!-- FEATURED PATH BANNER -->
    <div class="section-header">
      <div>
        <div class="section-title">Featured Breakdowns</div>
        <div class="section-subtitle">Hand-picked clips with full tactical annotations</div>
      </div>
      <button class="see-all" onclick="showView('paths')">View all paths ‚Üí</button>
    </div>

    <!-- TABS -->
    <div class="tabs">
      <button class="tab active" onclick="setTab('featured', this)">Featured</button>
      <button class="tab" onclick="setTab('beginner', this)">Beginner</button>
      <button class="tab" onclick="setTab('intermediate', this)">Intermediate</button>
      <button class="tab" onclick="setTab('advanced', this)">Advanced</button>
    </div>

    <!-- CLIPS GRID -->
    <div class="clips-grid" id="clipsGrid"></div>

  </div>
</div>

<!-- PATHS VIEW -->
<div id="view-paths" style="display:none;">
  <div class="main">
    <div class="section-header" style="margin-top:8px;">
      <div>
        <div class="section-title">Learning Paths</div>
        <div class="section-subtitle">Structured curricula to take your game to the next level</div>
      </div>
    </div>
    <div class="paths-grid" id="pathsGrid"></div>
  </div>
</div>

<!-- SAVED VIEW -->
<div id="view-saved" style="display:none;">
  <div class="main">
    <div class="section-header" style="margin-top:8px;">
      <div>
        <div class="section-title">‚≠ê Saved Breakdowns</div>
        <div class="section-subtitle">Your personal library of clips to review and revisit</div>
      </div>
    </div>
    <div class="clips-grid" id="savedGrid"></div>
  </div>
</div>

<!-- VIDEO MODAL -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModal(event)">
  <div class="modal" id="modal">
    <button class="modal-close" onclick="closeModal()">‚úï</button>
    <div class="modal-video">
      <iframe id="modalIframe" src="" allowfullscreen allow="autoplay; fullscreen"></iframe>
    </div>
    <div class="modal-content">
      <div class="modal-tags" id="modalTags"></div>
      <h2 id="modalTitle"></h2>
      <div class="annotation-box">
        <div class="annotation-label">üìã Coach's Breakdown</div>
        <p id="modalAnnotation"></p>
      </div>
      <div class="key-points" id="modalPoints"></div>
      <div class="apply-box">
        <div class="apply-label">üí° Apply This To Your Game</div>
        <p id="modalApply"></p>
      </div>
    </div>
  </div>
</div>

<!-- WAITLIST SECTION -->
<div class="waitlist-section" id="waitlist">
  <div class="waitlist-inner">
    <div class="waitlist-badge">üéæ Early Access</div>
    <h2>Get notified when<br><em>new breakdowns drop</em></h2>
    <p>Join tennis players getting weekly pro match breakdowns, tactical tips, and new learning paths delivered to their inbox.</p>

    <!-- Success state -->
    <div class="waitlist-success" id="waitlistSuccess">
      <div class="success-icon">üéâ</div>
      <h3>You're on the list!</h3>
      <p>We'll email you when new breakdowns drop. Check your inbox for a confirmation.</p>
    </div>

    <!-- Form -->
    <div class="waitlist-form" id="waitlistForm">
      <input
        class="waitlist-input"
        id="waitlistEmail"
        type="email"
        placeholder="Enter your email address"
        onkeydown="if(event.key==='Enter') submitWaitlist()"
      />
      <button class="waitlist-btn" id="waitlistBtn" onclick="submitWaitlist()">
        Join Waitlist ‚Üí
      </button>
    </div>

    <div class="waitlist-privacy">üîí No spam. Unsubscribe anytime. We respect your inbox.</div>

    <div class="waitlist-social-proof">
      <div class="proof-avatars">
        <div class="proof-avatar" style="background: linear-gradient(135deg,#2d6a4f,#40916c)">JM</div>
        <div class="proof-avatar" style="background: linear-gradient(135deg,#3b82f6,#1d4ed8)">SR</div>
        <div class="proof-avatar" style="background: linear-gradient(135deg,#f97316,#ea580c)">TK</div>
        <div class="proof-avatar" style="background: linear-gradient(135deg,#8b5cf6,#6d28d9)">AL</div>
        <div class="proof-avatar" style="background: linear-gradient(135deg,#ec4899,#be185d)">PD</div>
      </div>
      <div class="proof-text"><strong>240+ players</strong> already on the waitlist</div>
    </div>
  </div>
</div>

<footer>
  <strong>Rally School</strong> ¬∑ Learn tennis like pros study film ¬∑ ¬© 2026 rallyschoolonline.com
</footer>

<script>
  // ‚îÄ‚îÄ‚îÄ DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  const paths = [
    {
      id: 'baseline',
      icon: 'üéØ',
      color: 'green',
      title: 'Baseline Domination',
      desc: 'Master rally construction, depth, spin, and court positioning from the back of the court.',
      clips: 18,
      level: 'Intermediate'
    },
    {
      id: 'serve',
      icon: 'üöÄ',
      color: 'blue',
      title: 'Serve & Return',
      desc: 'Build a weapon serve and dominate the return game ‚Äî the two most impactful shots in tennis.',
      clips: 14,
      level: 'All Levels'
    },
    {
      id: 'net',
      icon: 'üèπ',
      color: 'orange',
      title: 'Net Play & Finishing',
      desc: 'Approach shots, volleys, overheads ‚Äî learn when and how pros close the net for winners.',
      clips: 12,
      level: 'Intermediate'
    },
    {
      id: 'mental',
      icon: 'üß†',
      color: 'purple',
      title: 'Mental Game & Tactics',
      desc: 'Pattern play, pressure point strategy, opponent reading ‚Äî the invisible game within the game.',
      clips: 16,
      level: 'Advanced'
    }
  ];

  const clips = [
    {
      id: 1,
      title: "Federer's Inside-Out Forehand: Disguise & Domination",
      pro: "Roger Federer",
      tags: ["Forehand", "Tactics"],
      tagColors: ["", "blue"],
      level: "intermediate",
      duration: "6:42",
      views: "142K",
      youtubeId: "d3KBqp6u2c8",
      thumb: "https://img.youtube.com/vi/d3KBqp6u2c8/hqdefault.jpg",
      annotation: "Federer's inside-out forehand is one of the most lethal patterns in tennis history. Watch how he creates the angle by positioning early ‚Äî his feet are already set to run around his backhand before the ball crosses the net. The disguise comes from an identical swing path whether he goes cross-court or inside-out.",
      points: [
        "Early unit turn: Federer begins his split step before opponent contact, giving him 0.3‚Äì0.5 extra seconds to position.",
        "Hip rotation leads the swing ‚Äî the arm is pulled, not pushed. This generates racket head speed without tension.",
        "Watch the follow-through: he finishes across his body toward the left shoulder, masking direction until contact."
      ],
      apply: "Next time you're in a neutral rally with a weak ball to your backhand side, take 2 extra steps left to run around it and hit inside-out. Aim for the opponent's backhand corner. Repeat until the opponent starts guessing ‚Äî then wrong-foot them cross-court."
    },
    {
      id: 2,
      title: "Djokovic's Return of Serve: Reading & Neutralizing",
      pro: "Novak Djokovic",
      tags: ["Return", "Tactics"],
      tagColors: ["orange", "blue"],
      level: "advanced",
      duration: "8:15",
      views: "98K",
      youtubeId: "dFgVbGOhqhQ",
      thumb: "https://img.youtube.com/vi/dFgVbGOhqhQ/hqdefault.jpg",
      annotation: "Djokovic's return is widely considered the best in history. The secret isn't reaction time ‚Äî it's pre-reading. He studies serve patterns obsessively and uses the ball toss, body angle, and shoulder position to pre-load his weight shift 100‚Äì150ms before contact.",
      points: [
        "Djokovic stands closer to the baseline than most returners ‚Äî he takes away the server's angle and forces faster decisions.",
        "Watch his split step: it's timed to land exactly as the server tosses, not at contact ‚Äî this is rare and allows pre-movement.",
        "On wide serves, he uses a 'chip and charge' rather than a full swing ‚Äî reducing risk while taking time away from the server."
      ],
      apply: "On your next practice session, focus your return entirely on one thing: make contact in front of your body. Most club players let the ball get too deep. Step in, shorten your backswing, and punch the return deep to the center."
    },
    {
      id: 3,
      title: "Rafa Nadal's Topspin Forehand Mechanics",
      pro: "Rafael Nadal",
      tags: ["Forehand"],
      tagColors: [""],
      level: "beginner",
      duration: "5:30",
      views: "215K",
      youtubeId: "SbDFAlm-u6E",
      thumb: "https://img.youtube.com/vi/SbDFAlm-u6E/hqdefault.jpg",
      annotation: "Nadal's forehand generates more topspin than any other player in ATP history ‚Äî averaging 3,200 RPM vs. the tour average of 1,800. The physics comes from an extreme low-to-high swing path combined with extreme western grip and wrist snap at contact.",
      points: [
        "The grip is the foundation: Nadal uses a full western grip (knuckle on bevel 5). This automatically promotes topspin.",
        "The 'buggy whip' finish: rather than crossing to the opposite shoulder, the arm wraps around the same shoulder. This maximizes RPM.",
        "Shoulder drop: watch how his hitting shoulder drops 6‚Äì8 inches below the non-hitting shoulder before contact ‚Äî this creates the low-to-high angle."
      ],
      apply: "Try hitting 20 balls in a row focusing on brushing up the back of the ball rather than hitting through it. Feel the difference in bounce height. Even 100 extra RPM adds meaningful margin over the net."
    },
    {
      id: 4,
      title: "The Kick Serve: Mechanics & Match Usage",
      pro: "Carlos Alcaraz",
      tags: ["Serve"],
      tagColors: [""],
      level: "intermediate",
      duration: "7:18",
      views: "87K",
      youtubeId: "4frEhkUBHwQ",
      thumb: "https://img.youtube.com/vi/4frEhkUBHwQ/hqdefault.jpg",
      annotation: "The kick serve is the most underutilized weapon in club tennis. It bounces high to the backhand, neutralizes the returner, and lands with heavy margin of error ‚Äî making it perfect for second serves. Alcaraz uses it to set up forehand patterns on the third ball.",
      points: [
        "Ball toss: unlike flat serves tossed ahead, the kick toss goes behind and above the head. This enables the brushing motion.",
        "Pronation in reverse: the racket brushes from 7 o'clock to 1 o'clock (left-to-right for right-handers) imparting side/topspin.",
        "Alcaraz targets the T on the deuce side ‚Äî forcing a backhand return ‚Äî then moves right to cover the cross-court forehand."
      ],
      apply: "Practice the kick serve toss first without hitting: toss the ball behind your head and let it land on your back. If it does, your toss is in the right position. Then add the swing slowly before bringing it to full speed."
    },
    {
      id: 5,
      title: "Two-Handed Backhand: Drive vs. Slice Decision Making",
      pro: "Novak Djokovic",
      tags: ["Backhand", "Tactics"],
      tagColors: ["", "blue"],
      level: "beginner",
      duration: "6:05",
      views: "73K",
      youtubeId: "bq-7SHMQB0k",
      thumb: "https://img.youtube.com/vi/bq-7SHMQB0k/hqdefault.jpg",
      annotation: "When do pros choose to slice instead of drive on the backhand? It's not random ‚Äî it's a tactical decision based on ball height, time pressure, and pattern intent. Djokovic's slice is a weapon, not just a defensive shot.",
      points: [
        "Djokovic slices when the ball is below net height and he needs time ‚Äî the low bounce gives him an extra step to reset.",
        "The slice approach: used intentionally to come to net. The low skid forces a difficult upward passing shot from the opponent.",
        "He drives when the ball sits at hip height or higher, allowing full rotation and a chance to attack down the line."
      ],
      apply: "In your next match, try slicing every ball that lands below your knee level on the backhand side. This single change will reduce unforced errors and give you time to recover position between points."
    },
    {
      id: 6,
      title: "Net Approach & Volley: The 1-2-3 Pattern",
      pro: "Stefanos Tsitsipas",
      tags: ["Net Play", "Tactics"],
      tagColors: ["orange", "blue"],
      level: "intermediate",
      duration: "5:52",
      views: "61K",
      youtubeId: "m2NAdEf2g6w",
      thumb: "https://img.youtube.com/vi/m2NAdEf2g6w/hqdefault.jpg",
      annotation: "Tsitsipas is one of the modern game's best net players despite being a primary baseliner. His approach pattern is: 1) Deep ball to the open court ‚Üí 2) Approach down the line ‚Üí 3) Volley to the open court. Understanding the geometry is key.",
      points: [
        "The approach shot must be hit down the line ‚Äî not cross-court. Cross-court approaches leave you too far from center.",
        "After hitting the approach, split-step as the opponent prepares to swing. This freezes your momentum and allows direction change.",
        "Tsitsipas almost always volleys to the opposite direction from where he approached ‚Äî wrong-footing opponents who anticipate the logical target."
      ],
      apply: "On the next short ball you receive, resist going for the winner. Hit a solid deep approach down the line, move in, split-step, and volley wherever the open court is. Run the 1-2-3 consciously three times per set."
    },
    {
      id: 7,
      title: "The Cross-Court Forehand Rally Pattern",
      pro: "Rafael Nadal",
      tags: ["Forehand", "Tactics"],
      tagColors: ["", "blue"],
      level: "beginner",
      duration: "4:45",
      views: "112K",
      youtubeId: "5X4Y7NbQpCI",
      thumb: "https://img.youtube.com/vi/5X4Y7NbQpCI/hqdefault.jpg",
      annotation: "The forehand-to-forehand cross-court rally is the most common pattern in recreational tennis ‚Äî yet most players have no plan within it. Nadal treats it as a weapon: he builds rally pace, shifts angle, then attacks.",
      points: [
        "Rally deep and neutral for 3‚Äì5 balls ‚Äî don't go for winners early. Build the rally to create an opening.",
        "Watch Nadal's footwork: he positions slightly behind the baseline, giving time and disguise for direction changes.",
        "The attack trigger: when a ball sits mid-court above the net, Nadal steps in and changes direction ‚Äî usually inside-in to the opponent's backhand."
      ],
      apply: "In practice, play points where you're only allowed to hit cross-court for the first 4 balls. After ball 4, you may go anywhere. This forces discipline and pattern-building rather than low-percentage attacks."
    },
    {
      id: 8,
      title: "Reading Body Language: Anticipation Secrets",
      pro: "Carlos Alcaraz",
      tags: ["Tactics"],
      tagColors: ["blue"],
      level: "advanced",
      duration: "9:10",
      views: "44K",
      youtubeId: "C1nkBxXm-bQ",
      thumb: "https://img.youtube.com/vi/C1nkBxXm-bQ/hqdefault.jpg",
      annotation: "Anticipation separates 4.0 players from 5.0 players. Alcaraz reads 3‚Äì4 cues before the opponent even contacts the ball: shoulder angle, grip change, swing path initiation, and weight transfer. These cues predict shot direction 80%+ of the time.",
      points: [
        "Shoulder line: if the opponent's front shoulder closes (points down the line), the ball usually goes down the line.",
        "Grip change: watch for forehand-to-backhand grip adjustments during the swing. A late grip change usually means a slice is coming.",
        "The split step trigger: Alcaraz split-steps exactly as the opponent's racket starts forward ‚Äî this gives him an extra 0.2 seconds."
      ],
      apply: "In your next match, pick ONE cue to watch for: the opponent's front shoulder. Before each point, remind yourself to watch the shoulder. After the match, see if you anticipated better. Train one cue at a time."
    }
  ];

  // ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  let activeFilter = 'All';
  let activeTab = 'featured';
  let savedClips = new Set(JSON.parse(localStorage.getItem('rallySchoolSaved') || '[]'));
  let currentView = 'home';

  // ‚îÄ‚îÄ‚îÄ RENDER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  function renderClips(containerId, clipsToRender) {
    const grid = document.getElementById(containerId);
    if (!clipsToRender.length) {
      grid.innerHTML = `<div class="empty-state" style="grid-column:1/-1">
        <div class="empty-icon">üéæ</div>
        <h3>No clips found</h3>
        <p>Try a different filter or search term</p>
      </div>`;
      return;
    }
    grid.innerHTML = clipsToRender.map(clip => `
      <div class="clip-card" onclick="openModal(${clip.id})">
        <div class="clip-thumb">
          <img src="${clip.thumb}" alt="${clip.title}" loading="lazy" onerror="this.style.display='none'" />
          <div class="play-btn">
            <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          </div>
          <span class="clip-level level-${clip.level}">${clip.level}</span>
          <span class="clip-duration">${clip.duration}</span>
          <button class="bookmark-btn ${savedClips.has(clip.id) ? 'saved' : ''}" onclick="toggleSave(event, ${clip.id})">
            ${savedClips.has(clip.id) ? '‚≠ê' : '‚òÜ'}
          </button>
        </div>
        <div class="clip-body">
          <div class="clip-tags">
            ${clip.tags.map((t, i) => `<span class="clip-tag ${clip.tagColors[i] || ''}">${t}</span>`).join('')}
          </div>
          <h3>${clip.title}</h3>
          <p>${clip.annotation.substring(0, 100)}...</p>
          <div class="clip-footer">
            <div class="clip-pro">
              <div class="pro-avatar">${clip.pro.split(' ').map(n=>n[0]).join('')}</div>
              <span class="pro-name">${clip.pro}</span>
            </div>
            <span class="clip-views">${clip.views} views</span>
          </div>
        </div>
      </div>
    `).join('');
  }

  function renderPaths() {
    const grid = document.getElementById('pathsGrid');
    grid.innerHTML = paths.map(p => `
      <div class="path-card ${p.color}" onclick="filterByPath('${p.id}')">
        <div class="path-icon">${p.icon}</div>
        <h3>${p.title}</h3>
        <p>${p.desc}</p>
        <div class="path-meta">
          <span class="path-tag">${p.level}</span>
          <span class="path-count">${p.clips} clips</span>
        </div>
      </div>
    `).join('');
  }

  // ‚îÄ‚îÄ‚îÄ FILTERING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  function getFilteredClips() {
    let result = clips;
    const search = document.getElementById('searchInput')?.value?.toLowerCase() || '';

    if (activeFilter !== 'All') {
      result = result.filter(c => c.tags.includes(activeFilter));
    }
    if (activeTab !== 'featured') {
      result = result.filter(c => c.level === activeTab);
    }
    if (search) {
      result = result.filter(c =>
        c.title.toLowerCase().includes(search) ||
        c.pro.toLowerCase().includes(search) ||
        c.tags.some(t => t.toLowerCase().includes(search))
      );
    }
    return result;
  }

  function filterClips() {
    renderClips('clipsGrid', getFilteredClips());
  }

  function setFilter(filter, el) {
    activeFilter = filter;
    document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
    el.classList.add('active');
    filterClips();
  }

  function setTab(tab, el) {
    activeTab = tab;
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    el.classList.add('active');
    filterClips();
  }

  function filterByPath(pathId) {
    showView('home');
    const pathTagMap = { baseline: 'Tactics', serve: 'Serve', net: 'Net Play', mental: 'Tactics' };
    const tag = pathTagMap[pathId];
    if (tag) {
      activeFilter = tag;
      document.querySelectorAll('.filter-chip').forEach(c => {
        c.classList.toggle('active', c.textContent === tag);
      });
      filterClips();
    }
  }

  // ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  function openModal(clipId) {
    const clip = clips.find(c => c.id === clipId);
    if (!clip) return;

    document.getElementById('modalIframe').src = `https://www.youtube.com/embed/${clip.youtubeId}?autoplay=1&rel=0`;
    document.getElementById('modalTitle').textContent = clip.title;
    document.getElementById('modalAnnotation').textContent = clip.annotation;
    document.getElementById('modalTags').innerHTML =
      clip.tags.map((t, i) => `<span class="clip-tag ${clip.tagColors[i] || ''}">${t}</span>`).join('') +
      `<span class="clip-tag" style="background:#f3e8ff;color:#6b21a8">${clip.level}</span>`;
    document.getElementById('modalPoints').innerHTML = `
      <h4>üîç Key Technical Points</h4>
      ${clip.points.map((p, i) => `
        <div class="point-item">
          <div class="point-num">${i+1}</div>
          <p>${p}</p>
        </div>
      `).join('')}
    `;
    document.getElementById('modalApply').textContent = clip.apply;
    document.getElementById('modalOverlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }

  function closeModal(e) {
    if (e && e.target !== document.getElementById('modalOverlay') && !e.target.classList.contains('modal-close')) return;
    document.getElementById('modalOverlay').classList.remove('open');
    document.getElementById('modalIframe').src = '';
    document.body.style.overflow = '';
  }

  document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal({}); });

  // ‚îÄ‚îÄ‚îÄ SAVE / BOOKMARK ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  function toggleSave(e, clipId) {
    e.stopPropagation();
    if (savedClips.has(clipId)) savedClips.delete(clipId);
    else savedClips.add(clipId);
    localStorage.setItem('rallySchoolSaved', JSON.stringify([...savedClips]));
    filterClips();
    if (currentView === 'saved') renderSaved();
  }

  function renderSaved() {
    const saved = clips.filter(c => savedClips.has(c.id));
    renderClips('savedGrid', saved.length ? saved : []);
    if (!saved.length) {
      document.getElementById('savedGrid').innerHTML = `
        <div class="empty-state" style="grid-column:1/-1">
          <div class="empty-icon">‚≠ê</div>
          <h3>No saved clips yet</h3>
          <p>Hit the ‚òÜ on any clip to save it here for later review</p>
        </div>`;
    }
  }

  // ‚îÄ‚îÄ‚îÄ VIEW SWITCHING ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

  function showView(view) {
    currentView = view;
    document.getElementById('view-home').style.display = view === 'home' ? 'block' : 'none';
    document.getElementById('view-paths').style.display = view === 'paths' ? 'block' : 'none';
    document.getElementById('view-saved').style.display = view === 'saved' ? 'block' : 'none';

    ['home', 'paths', 'saved'].forEach(v => {
      const btn = document.getElementById(`nav-${v}`);
      if (btn) btn.classList.toggle('active', v === view);
    });

    if (view === 'paths') renderPaths();
    if (view === 'saved') renderSaved();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // ‚îÄ‚îÄ‚îÄ WAITLIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function submitWaitlist() {
    const input = document.getElementById('waitlistEmail');
    const btn = document.getElementById('waitlistBtn');
    const email = input.value.trim();

    // Basic email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      input.style.borderColor = '#ef4444';
      input.placeholder = 'Please enter a valid email';
      input.value = '';
      setTimeout(() => {
        input.style.borderColor = '';
        input.placeholder = 'Enter your email address';
      }, 2000);
      return;
    }

    // Simulate submission (replace with your email tool: Mailchimp, ConvertKit, etc.)
    btn.disabled = true;
    btn.textContent = 'Joining...';

    setTimeout(() => {
      // Save to localStorage so we remember them
      const waitlist = JSON.parse(localStorage.getItem('rallySchoolWaitlist') || '[]');
      waitlist.push({ email, date: new Date().toISOString() });
      localStorage.setItem('rallySchoolWaitlist', JSON.stringify(waitlist));

      // Show success
      document.getElementById('waitlistForm').style.display = 'none';
      document.getElementById('waitlistSuccess').classList.add('show');

      // Update nav CTA
      const navCta = document.querySelector('.nav-cta');
      if (navCta) {
        navCta.textContent = '‚úÖ You\'re on the list!';
        navCta.style.background = '#86efac';
      }
    }, 900);
  }

  // ‚îÄ‚îÄ‚îÄ INIT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  filterClips();

  // Add waitlist link to nav CTA
  document.querySelector('.nav-cta').onclick = () => {
    document.getElementById('waitlist').scrollIntoView({ behavior: 'smooth' });
  };
</script>
</body>
</html>
